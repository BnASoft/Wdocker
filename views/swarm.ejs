<!DOCTYPE html>
<html>
  <head>
    <% include ./partials/head %>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-sortable/0.9.13/jquery-sortable-min.js"></script>
    <script src="/myapp/js/bundle/swarm.bundle.js"></script>

  </head>
  <style>
  body.dragging, body.dragging * {
  cursor: move !important;
}
ol.vertical {
    margin: 0 0 9px 0;
    /*margin: 10px;*/
    min-height: 30px;
}
.dragged {
  position: absolute;
  opacity: 0.5;
  z-index: 2000;
}
ol.sortable li, ol.serialization li, ol.default li {
    cursor: pointer;
}
li.placeholder{
  list-style-type: none;
  position: absolute;
}
li.placeholder::before {
    content: "";

    border-color: transparent green;
    border-style: solid;
    border-width: 0.35em 0 0.35em 0.45em;
    display: block;
    height: 0;
    width: 0;
    left: -1em;
    top: 0.9em;
    position: absolute;
}


.isLoaded {
  list-style-type: none;
    background-color: white;
    margin : 10px;
     border-radius: 5px;
     border-width: 2px;
		border-color: gray;
    border-style: groove;
    font-size: large;
  /*.text-success;*/
}

.isLeader {
  list-style-type: none;
    background-color: #FADBD8 ;
    margin : 10px;
     border-radius: 5px;
     border-width: 2px;
		border-color: gray;
    border-style: groove;
    font-size: large;
  /*.text-success;*/
}

.isNode {
  list-style-type: none;
    margin : 10px;
     border-radius: 5px;
     border-width: 2px;
		border-color: gray;
    border-style: groove;
    font-size: large;
  /*.text-success;*/
}

.isWorker {
    background-color: #FEF9E7;
}

.isManager {
    background-color: #EBF5FB;
}

.isDown {
    background-color: #EBEDEF  ;
    color : #EC7063;
}

li span{
    display:none;
    visibility: hidden;
    padding:3px;
    line-height:8px;
    cursor:pointer;
    position:absolute;
    right:0px;
    left : 20%;
    top:0px;
}
li:hover span{
  visibility: visible;
}

  </style>


  <body>
    <% include ./partials/topnav %>
    <div class="container-fluid">
          <div class="row">
            <% include ./partials/nav %>
            <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
              <div class="row placeholders">
                <div class="container">
                  <div class="form-group row">
                      <div class="col-md-6">
                        <div class="panel panel-success ">
                          <div class="panel-heading">
                            <h4>Docker Host Lists</h4>
                          </div>
                          <div class="panel-body">
                            <div class="text-left">
                              <button  onclick=" return false;"  type="button" class="btn btn-default" id = "refresh">
                                <span class="glyphicon glyphicon-refresh"></span>Refresh
                              </button>
                            </div>
                            <hr/>
                            <ol id="initlists" class='sortable vertical'>
                            </ol>
                          </div>
                        </div>
                      </div>


                    <div class="form-group">
                      <div class="col-md-6">
                        <div class="panel panel-danger ">
                          <div class="panel-heading">
                            <h4>Leader</h4>
                          </div>
                          <div class="panel-body">
                            <div class="form-inline row" id="init">
                                <div class="col-md-8 text-left">
                                    <label for="swarmPort" class="control-label">Swarm Init : </label>
                                    <input type="number" class="form-control"  min="1" max="65535" name="swarmPort" id="swarmPort" placeholder="Port" >

                                    <button type="submit" class="btn btn-primary init">Init</button>
                                </div>

                                <div class="col-md-4 text-right">
                                    <button class="btn btn-default load ">Load</button>
                                </div>
                            </div>

                            <div class="form-inline  row" id="leave">
                                <div class="col-md-6">
                                  <label class="checkbox-inline">
                                    <input type="checkbox" id="force" checked data-toggle="toggle" data-on="unforce"
                                    data-off="force" data-onstyle="default" data-offstyle="danger"></input>
                                  </label>
                                  <button class="btn btn-danger leave">Leave</button>
                                </div>

                                <div class="col-md-6">

                                  <button  onclick=" return false;"  type="button" class="btn btn-default" id = "reload">
                                    <span class="glyphicon glyphicon-refresh"></span>Reload
                                  </button>
                                  <button class="btn btn-default update ">Update</button>
                                </div>
                            </div>

                            <hr/>


                            <ol id="leader" class='sortable vertical'>
                            </ol>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group row">
                      <div class="col-md-6">
                          <div class="panel panel-info ">
                              <div class="panel-heading">
                                  <h4>Managers</h4>
                              </div>
                              <div class="panel-body">
                                <ol id="managers" class='sortable vertical'>
                                </ol>
                              </div>
                          </div>
                      </div>
                      <div class="col-md-6">
                          <div class="panel panel-warning">
                              <div class="panel-heading">
                                  <h4>Workers</h4>
                              </div>
                              <div class="panel-body">
                                <ol id="workers" class='sortable vertical'>
                                </ol>
                              </div>
                           </div>
                     </div>
                  </div>

              </div>
            </div>
          </div>
        </div>
    </div>

  </body>
</html>
